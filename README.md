## ВАРИАНТ 11  
## Учебный конфигурационный парсер (TOML)

Инструмент командной строки для преобразования конфигурационных файлов,  
написанных на учебном конфигурационном языке, в валидный TOML.

Проект предназначен для учебных целей: демонстрации работы парсеров,  
формального описания синтаксиса и трансляции конфигурационных данных  
из одного формата в другой.

---

## Запуск

# Запуск с файлом конфигурации
python main.py network_config.txt

Входной файл передаётся как аргумент командной строки.  
Результат работы программы выводится в стандартный вывод (stdout).  
Сообщения об ошибках выводятся в stderr.

---

## Пример

### Входной файл (network_config.txt)

--[[ Конфигурация сетевого сервера ]]

port : 0b101000;
secureport : 0b110111;

server = table([
  http = .(port).,
  https = .(secureport).
])

Также были реализованы несколько файлов с примерами конфигураций  
из разных предметных областей:

- network_config.txt — сетевая конфигурация   
- hardware_config.txt — аппаратная конфигурация  

Запуск производится аналогично приведённому выше примеру.

---

### Выход

[server]
http = 40
https = 55

---

## Синтаксис языка

### 1. Имена

[a-z]+

- Имена состоят только из строчных латинских букв
- Использование символов _, цифр и заглавных букв запрещено

Примеры допустимых имён:
port
server
gravity

---

### 2. Числа

Поддерживаются только бинарные числа следующего формата:

0[bB][01]+

Примеры:
0b1010
0B1111

---

### 3. Словари (таблицы)

table([
  имя = значение,
  имя = значение,
  ...
])

- Элементы словаря разделяются запятыми
- Значения могут быть числами, словарями или вычисляемыми константами

Пример:
server = table([
  port = 0b101000,
  secure = 0b110111
])

---

### 4. Значения

Допустимые значения:
- бинарные числа
- словари (table([...]))
- вычисление констант

---

### 5. Объявление констант

имя : значение;

- Константа вычисляется на этапе трансляции
- Повторное объявление констант запрещено

Пример:
port : 0b101000;

---

### 6. Использование (вычисление) констант

.(имя).

Результатом вычисления является значение соответствующей константы.

Пример:
http = .(port).

---

### 7. Комментарии

Поддерживаются только многострочные комментарии:

--[[
Комментарий
на несколько строк
]]

Комментарии полностью игнорируются парсером.

---

## TOML-вывод

- Каждая таблица преобразуется в TOML-секцию
- Вложенные словари формируют вложенные секции
- Числа автоматически переводятся из бинарного представления в десятичное

Пример:
[game]
players = 16

[game.physics]
gravity = 38

---

## Обработка ошибок

Парсер выявляет и сообщает следующие ошибки:

- Использование необъявленных констант
- Повторное объявление констант
- Дублирование ключей в таблицах
- Использование недопустимых символов в именах
- Синтаксические ошибки (пропущенные :, =, ;, table, [])
- Несоответствие формату бинарных чисел

Пример сообщения об ошибке:

Syntax error: No terminal matches '_' at line 4 col 7
secure_port : 0b110111;
      ^

При наличии ошибок:
- TOML-вывод не формируется
- программа завершает работу с ошибкой

---
